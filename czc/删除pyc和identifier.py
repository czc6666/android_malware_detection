import os
import fnmatch  # 用于文件名匹配
import sys
# 一行添加上级目录到python路径
sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from static import get_project_root



def delete_specific_files(directory, patterns):  # 删除特定文件
    for dirpath, dirnames, filenames in os.walk(directory):  # 遍历目录
        for filename in filenames:  # 遍历文件
            for pattern in patterns:  # 遍历模式
                if fnmatch.fnmatch(filename, pattern):  # 如果文件名匹配模式
                    file_path = os.path.join(dirpath, filename)  # 获取文件路径
                    os.remove(file_path)  # 删除文件
                    print(f"Deleted: {file_path}")  # 打印删除的文件路径

# 使用示例
directory_path = get_project_root()  # 目录路径
patterns = ['*:Zone.Identifier', '*.pyc']  # 模式列表
delete_specific_files(directory_path, patterns)  # 删除特定文件

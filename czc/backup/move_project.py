import os
import shutil
from pathlib import Path

def create_and_move_directory():
    # 目标路径
    target_path = '/home/czc/code/Android_Malware_Detection/code'
    
    # 获取当前android_malware_detection文件夹的路径
    current_dir = Path(__file__).parent.parent
    
    try:
        # 创建目标目录结构
        os.makedirs(target_path, exist_ok=True)
        print(f"目标目录已创建: {target_path}")
        
        # 移动文件夹
        target_full_path = os.path.join(target_path, 'android_malware_detection')
        
        # 如果目标位置已存在同名文件夹，先删除
        if os.path.exists(target_full_path):
            shutil.rmtree(target_full_path)
            
        shutil.move(str(current_dir), target_full_path)
        print(f"项目已成功移动到: {target_full_path}")
        
    except Exception as e:
        print(f"发生错误: {str(e)}")

if __name__ == "__main__":
    create_and_move_directory()
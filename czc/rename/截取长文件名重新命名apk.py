import os

def rename_files_in_directory(directory):
    # 遍历指定目录下的所有文件
    for filename in os.listdir(directory):
        # 构建完整的文件路径
        old_file_path = os.path.join(directory, filename)
        
        # 检查是否为文件
        if os.path.isfile(old_file_path):
            # 截取文件名的前40个字符
            new_filename = filename[:40] + '.apk'
            new_file_path = os.path.join(directory, new_filename)
            
            # 重命名文件
            os.rename(old_file_path, new_file_path)
            print(f"Renamed '{filename}' to '{new_filename}'")

# 指定需要操作的目录
directory_path = '/home/czc/code/Android_Malware_Detection/dataset/czc_dataset_5_black/123'
rename_files_in_directory(directory_path)
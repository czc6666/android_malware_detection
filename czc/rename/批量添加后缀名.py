import os
import sys

# 一行添加上上级目录
sys.path.append(os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__)))))


from static import get_project_root, get_dataset_name

def add_suffix_to_files(directory, suffix):
    # 遍历指定目录中的所有文件
    for filename in os.listdir(directory):
        # 获取完整的文件路径
        file_path = os.path.join(directory, filename)
        
        # 检查是否为文件（不是目录）
        if os.path.isfile(file_path):
            # 检查当前文件后缀是否是.apk
            if not filename.endswith('.apk'):
                # 构造新的文件名（添加后缀）
                new_filename = f"{filename}{suffix}"
                new_file_path = os.path.join(directory, new_filename)
                
                # 重命名文件
                os.rename(file_path, new_file_path)
                print(f"Renamed: {filename} -> {new_filename}")

# 使用示例
directory = get_project_root() + 'dataset/' + get_dataset_name()  # 当前目录，您可以更改为您的目标目录
suffix = '.apk'  # 要添加的后缀

add_suffix_to_files(directory, suffix)

